<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
  </head>

  <body>
    <canvas width="300" height="300" id="canvas">
    </canvas>
    <script>
      const canvasElement = document.getElementById('canvas');
      const ctx = canvasElement.getContext('2d');
      let i = 0;
      let pressed = false;

      function draw() {
        const dx = i / 10;
        const dy = i / 10;

        ctx.lineWidth = 5;

        // Draw circle
        ctx.beginPath();
        ctx.arc(140, 140, 120, 0, 2 * Math.PI);
        ctx.fillStyle = "yellow";
        ctx.fill();
        ctx.stroke();

        // Draw left eye
        ctx.beginPath();
        if (pressed) {
          ctx.fillStyle = "red";

        } else {
          ctx.fillStyle = "white";

        }
        ctx.arc(90, 100, 15, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.fill();

        // Draw rigth eye
        ctx.beginPath();
        ctx.arc(190, 100, 15, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.fill();

        // Draw left eye
        ctx.beginPath();
        ctx.fillStyle = "black";
        ctx.arc(90 + dx, 100 + dy, 5, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.fill();

        // Draw rigth eye
        ctx.beginPath();
        ctx.arc(190 + dx, 100 + dy, 5, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.fill();

        // Draw mouth
        ctx.beginPath();
        ctx.arc(140, 110, 100, 0.25 * Math.PI, 0.75 * Math.PI);
        ctx.stroke();
      }

      // draw();
      // setInterval(draw, 100);

      function tick() {
        ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);
        draw();
        i++;
      }

      document.addEventListener('keydown', (evt) => {
        evt.preventDefault();
        if (evt.code == "Space") {
          pressed = true;
        }
      });

      document.addEventListener('keyup', (evt) => {
        evt.preventDefault();
        if (evt.code == "Space") {
          pressed = false;
        }
      });

      setInterval(tick, 100);

    </script>
  </body>

</html>
